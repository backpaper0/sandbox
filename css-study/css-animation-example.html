<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>CSS Animation Example</title>
    <style>
      .element1 {
        animation: 1s fadein;
      }
      @keyframes fadein {
        from { opacity: 0; }
        to   { opacity: 1; }
      }
    </style>
  </head>
  <body>
    <p><a href="https://developer.mozilla.org/ja/docs/Web/CSS/CSS_Animations/Using_CSS_animations">https://developer.mozilla.org/ja/docs/Web/CSS/CSS_Animations/Using_CSS_animations</a></p>
    <p><button id="addElement">Add element</button></p>
    <ul id="list">
    </ul>
    <script>
      const addElement = document.querySelector('#addElement');
      addElement.addEventListener('click', () => {
        const list = document.querySelector('#list');
        const li = document.createElement('li');
        li.innerText = 'Element #' + (list.querySelectorAll('li').length + 1);
        li.className = 'element1';
        const listener = ({ type, elapsedTime }) => console.log(`${type}: elapsedTime=${elapsedTime}`);
        li.addEventListener('animationstart', listener, false);
        li.addEventListener('animationend', listener, false);
        li.addEventListener('animationiteration', listener, false);
        list.appendChild(li);
      }, false);
    </script>
  </body>
</html>
